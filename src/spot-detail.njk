---
layout: base.njk
pagination:
  data: allSpots
  size: 1
  alias: spot
permalink: "/spots/{{ spot.id }}/"
eleventyComputed:
  title: "{{ spot.name }} ‚Äî Skate And the City"
  metaDescription: "{{ spot.name }} ‚Äî {{ spot.description | truncate(140) }}"
  ogType: "place"
---

{# Schema.org Structured Data #}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SportsActivityLocation",
  "name": "{{ spot.name }}",
  "description": "{{ spot.description | replace('"', '\\"') }}",
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "{{ spot.neighborhood }}",
    "addressRegion": "{{ spot.borough }}",
    "addressCountry": "US"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": {{ spot.coordinates.lat }},
    "longitude": {{ spot.coordinates.lng }}
  },
  "sport": "Skateboarding"
}
</script>

{# Breadcrumb Navigation #}
<nav class="text-sm text-gray-400 mb-6" aria-label="Breadcrumb">
  <ol class="flex items-center gap-2" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="{{ '/' | url }}" class="hover:text-skate-accent transition"><span itemprop="name">Home</span></a>
      <meta itemprop="position" content="1">
    </li>
    <li class="text-gray-600">/</li>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="{{ '/spots/' | url }}" class="hover:text-skate-accent transition"><span itemprop="name">Spots</span></a>
      <meta itemprop="position" content="2">
    </li>
    <li class="text-gray-600">/</li>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <span itemprop="name" class="text-skate-accent">{{ spot.name }}</span>
      <meta itemprop="position" content="3">
    </li>
  </ol>
</nav>

{# Hero Section #}
<div class="mb-8">
  {% if spot.photos and spot.photos.length > 0 %}
    <img src="{{ spot.photos[0] }}" alt="{{ spot.name }}" class="w-full h-64 object-cover rounded-lg mb-4">
  {% else %}
    <div class="w-full h-48 bg-skate-surface rounded-lg mb-4 flex items-center justify-center text-6xl">üõπ</div>
  {% endif %}

  <div class="flex flex-wrap items-center gap-3 mb-2">
    <h1 class="text-3xl font-bold text-skate-accent">{{ spot.name }}</h1>
    {% if spot.status == "active" %}
      <span class="px-2 py-1 text-xs font-semibold rounded bg-green-900/50 text-green-400 border border-green-700">‚úÖ Active</span>
    {% elif spot.status == "restricted" %}
      <span class="px-2 py-1 text-xs font-semibold rounded bg-yellow-900/50 text-yellow-400 border border-yellow-700">‚ö†Ô∏è Restricted</span>
    {% elif spot.status == "demolished" %}
      <span class="px-2 py-1 text-xs font-semibold rounded bg-red-900/50 text-red-400 border border-red-700">‚ùå Demolished</span>
    {% else %}
      <span class="px-2 py-1 text-xs font-semibold rounded bg-gray-700 text-gray-300 border border-gray-600">{{ spot.status }}</span>
    {% endif %}
  </div>

  <p class="text-gray-400 text-sm">{{ spot.neighborhood }}, {{ spot.borough }} ¬∑ {{ spot.type | capitalize }}</p>
</div>

{# Main Content Grid #}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
  {# Main Column #}
  <div class="lg:col-span-2 space-y-8">

    {# Description & History #}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">About</h2>
      <p class="text-gray-300 leading-relaxed mb-4">{{ spot.description }}</p>
      {% if spot.history %}
        <h3 class="text-lg font-semibold text-white mb-2">History</h3>
        <p class="text-gray-400 leading-relaxed">{{ spot.history }}</p>
      {% endif %}
    </section>

    {# Photo Gallery #}
    {% if spot.photos and spot.photos.length > 0 %}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">üì∏ Photos</h2>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-2">
        {% for photo in spot.photos %}
          <img src="{{ photo }}" alt="{{ spot.name }} photo" class="rounded-lg object-cover h-40 w-full">
        {% endfor %}
      </div>
    </section>
    {% endif %}

    {# Terrain Features #}
    {% if spot.features and spot.features.length > 0 %}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">üèóÔ∏è Terrain Features</h2>
      <div class="flex flex-wrap gap-2">
        {% for feature in spot.features %}
          <span class="px-3 py-1 bg-skate-surface rounded-full text-sm text-skate-accent border border-skate-accent/30">{{ feature }}</span>
        {% endfor %}
      </div>
    </section>
    {% endif %}

    {# Difficulty #}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">Difficulty</h2>
      <div class="flex items-center gap-1">
        {% for i in range(1, 6) %}
          {% if i <= spot.difficulty %}
            <span class="text-skate-accent text-xl">‚òÖ</span>
          {% else %}
            <span class="text-gray-600 text-xl">‚òÖ</span>
          {% endif %}
        {% endfor %}
        <span class="ml-2 text-gray-400 text-sm">{{ spot.difficulty }}/5</span>
      </div>
    </section>

    {# Best Times to Visit #}
    {% if spot.bestTimes %}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">üïê Best Times to Visit</h2>
      <p class="text-gray-300">{{ spot.bestTimes }}</p>
    </section>
    {% endif %}

    {# Transit Directions #}
    {% if spot.transitDirections %}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">üöá Getting There</h2>
      <p class="text-gray-300">{{ spot.transitDirections }}</p>
    </section>
    {% endif %}

    {# Detailed Notes / Skater's Tips #}
    {% if spot.detailedNotes %}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">üõπ Skater's Tips</h2>
      <div class="space-y-4">
        {% if spot.detailedNotes.terrain %}
        <div>
          <h3 class="text-sm font-semibold text-skate-accent uppercase tracking-wide mb-1">Terrain</h3>
          <p class="text-gray-300">{{ spot.detailedNotes.terrain }}</p>
        </div>
        {% endif %}
        {% if spot.detailedNotes.culture %}
        <div>
          <h3 class="text-sm font-semibold text-skate-accent uppercase tracking-wide mb-1">Culture</h3>
          <p class="text-gray-300">{{ spot.detailedNotes.culture }}</p>
        </div>
        {% endif %}
        {% if spot.detailedNotes.warnings %}
        <div>
          <h3 class="text-sm font-semibold text-skate-accent uppercase tracking-wide mb-1">‚ö†Ô∏è Heads Up</h3>
          <p class="text-yellow-300/80">{{ spot.detailedNotes.warnings }}</p>
        </div>
        {% endif %}
      </div>
    </section>
    {% endif %}

    {# Famous Video Parts #}
    {% if spot.detailedNotes and spot.detailedNotes.mediaAppearances and spot.detailedNotes.mediaAppearances.length > 0 %}
    <section>
      <h2 class="text-xl font-bold text-white mb-3">üé¨ Famous Video Parts</h2>
      <ul class="list-disc list-inside text-gray-300 space-y-1">
        {% for vid in spot.detailedNotes.mediaAppearances %}
          <li>{{ vid }}</li>
        {% endfor %}
      </ul>
    </section>
    {% endif %}

  </div>

  {# Sidebar #}
  <aside class="space-y-6">

    {# Mini-Map #}
    <div class="bg-skate-surface rounded-lg overflow-hidden border border-skate-accent/20">
      <div id="spot-map" class="h-48 w-full bg-gray-800"></div>
      <div class="p-3 text-center">
        <a href="https://www.google.com/maps?q={{ spot.coordinates.lat }},{{ spot.coordinates.lng }}" 
           target="_blank" rel="noopener"
           class="text-sm text-skate-accent hover:underline">Open in Google Maps ‚Üó</a>
      </div>
    </div>

    {# Quick Info #}
    <div class="bg-skate-surface rounded-lg p-4 border border-skate-accent/20">
      <h3 class="font-semibold text-white mb-3">Quick Info</h3>
      <dl class="space-y-2 text-sm">
        <div class="flex justify-between">
          <dt class="text-gray-400">Type</dt>
          <dd class="text-gray-200">{{ spot.type | capitalize }}</dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-gray-400">Borough</dt>
          <dd class="text-gray-200">{{ spot.borough }}</dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-gray-400">Neighborhood</dt>
          <dd class="text-gray-200">{{ spot.neighborhood }}</dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-gray-400">Difficulty</dt>
          <dd class="text-gray-200">{{ spot.difficulty }}/5</dd>
        </div>
        {% if spot.lastVerified %}
        <div class="flex justify-between">
          <dt class="text-gray-400">Last Verified</dt>
          <dd class="text-gray-200">{{ spot.lastVerified }}</dd>
        </div>
        {% endif %}
      </dl>
    </div>

    {# Nearby #}
    {% if spot.nearbyReferences and spot.nearbyReferences.length > 0 %}
    <div class="bg-skate-surface rounded-lg p-4 border border-skate-accent/20">
      <h3 class="font-semibold text-white mb-3">üìç Nearby</h3>
      <ul class="space-y-1 text-sm text-gray-300">
        {% for ref in spot.nearbyReferences %}
          <li>‚Ä¢ {{ ref }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    {# Near This Spot: Shops #}
    {% set nearShops = [] %}
    {% for shop in allShops %}
      {% if shop.nearbySpots and spot.id in shop.nearbySpots %}
        {% set nearShops = (nearShops.push(shop), nearShops) %}
      {% endif %}
    {% endfor %}
    {% if nearShops.length > 0 %}
    <div class="bg-skate-surface rounded-lg p-4 border border-skate-accent/20">
      <h3 class="font-semibold text-white mb-3">üõπ Nearby Shops</h3>
      <ul class="space-y-1 text-sm text-gray-300">
        {% for shop in nearShops %}
          <li>‚Ä¢ <a href="{{ ('/shops/' + shop.id + '/') | url }}" class="text-skate-accent hover:underline">{{ shop.name }}</a> ‚Äî {{ shop.neighborhood }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    {# Near This Spot: Food #}
    {% set nearFood = [] %}
    {% for item in allFood %}
      {% if item.nearbySpots and spot.id in item.nearbySpots %}
        {% set nearFood = (nearFood.push(item), nearFood) %}
      {% endif %}
    {% endfor %}
    {% if nearFood.length > 0 %}
    <div class="bg-skate-surface rounded-lg p-4 border border-skate-accent/20">
      <h3 class="font-semibold text-white mb-3">üçï Nearby Food</h3>
      <ul class="space-y-1 text-sm text-gray-300">
        {% for item in nearFood %}
          <li>‚Ä¢ <a href="{{ ('/food/' + item.id + '/') | url }}" class="text-skate-accent hover:underline">{{ item.name }}</a> ‚Äî {{ item.cuisine }} {{ item.priceRange }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    {# Share Buttons #}
    <div class="bg-skate-surface rounded-lg p-4 border border-skate-accent/20">
      <h3 class="font-semibold text-white mb-3">Share this spot</h3>
      <div class="flex gap-2">
        <button onclick="navigator.clipboard.writeText(window.location.href).then(()=>{this.textContent='Copied!';setTimeout(()=>{this.textContent='üìã Copy Link'},2000)})" 
                class="flex-1 px-3 py-2 bg-skate-accent/20 text-skate-accent rounded text-sm hover:bg-skate-accent/30 transition">üìã Copy Link</button>
        <a href="https://twitter.com/intent/tweet?text={{ spot.name | urlencode }}%20-%20NYC%20Skate%20Spot&url={{ ('https://clawdiard.github.io/skate-and-the-city/spots/' + spot.id + '/') | urlencode }}" 
           target="_blank" rel="noopener"
           class="flex-1 px-3 py-2 bg-blue-900/30 text-blue-400 rounded text-sm text-center hover:bg-blue-900/50 transition">üê¶ Tweet</a>
      </div>
    </div>

  </aside>
</div>

{# Prev/Next Navigation #}
<nav class="mt-12 pt-8 border-t border-skate-accent/20 flex justify-between" aria-label="Spot navigation">
  {% set prevIndex = spot._index - 1 %}
  {% set nextIndex = spot._index + 1 %}
  
  {% if prevIndex >= 0 %}
    <a href="{{ ('/spots/' + allSpots[prevIndex].id + '/') | url }}" class="group flex items-center gap-2 text-gray-400 hover:text-skate-accent transition">
      <span class="text-xl">‚Üê</span>
      <div>
        <div class="text-xs uppercase tracking-wide">Previous</div>
        <div class="text-sm font-semibold text-white group-hover:text-skate-accent transition">{{ allSpots[prevIndex].name }}</div>
      </div>
    </a>
  {% else %}
    <div></div>
  {% endif %}
  
  {% if nextIndex < allSpots.length %}
    <a href="{{ ('/spots/' + allSpots[nextIndex].id + '/') | url }}" class="group flex items-center gap-2 text-right text-gray-400 hover:text-skate-accent transition">
      <div>
        <div class="text-xs uppercase tracking-wide">Next</div>
        <div class="text-sm font-semibold text-white group-hover:text-skate-accent transition">{{ allSpots[nextIndex].name }}</div>
      </div>
      <span class="text-xl">‚Üí</span>
    </a>
  {% else %}
    <div></div>
  {% endif %}
</nav>

{# Submit Update Button #}
<div class="mt-8 text-center">
  <a href="https://github.com/clawdiard/skate-and-the-city/issues/new?template=spot-update.yml&title={{ spot.name | urlencode }}+Update&spot_name={{ spot.name | urlencode }}&spot_url={{ ('/spots/' + spot.id + '/') | url | urlencode }}" 
     target="_blank" rel="noopener"
     class="inline-flex items-center gap-2 px-5 py-2.5 bg-skate-accent/10 border border-skate-accent/30 rounded-lg text-skate-accent hover:bg-skate-accent/20 transition font-medium text-sm">
    üìù Submit an Update for This Spot
  </a>
</div>

{# Leaflet Map #}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var map = L.map('spot-map', { zoomControl: false, attributionControl: false })
      .setView([{{ spot.coordinates.lat }}, {{ spot.coordinates.lng }}], 15);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);
    L.marker([{{ spot.coordinates.lat }}, {{ spot.coordinates.lng }}]).addTo(map)
      .bindPopup('{{ spot.name }}');
  });
</script>
